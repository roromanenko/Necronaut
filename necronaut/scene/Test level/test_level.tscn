[gd_scene load_steps=5 format=4 uid="uid://bginfqoxjlh3x"]

[ext_resource type="TileSet" uid="uid://cetctps64jijj" path="res://resources/GrassPlatform.tres" id="1_hsma1"]
[ext_resource type="PackedScene" uid="uid://1v5juqred31s" path="res://BG Forest1.tscn" id="2_kna6t"]
[ext_resource type="PackedScene" uid="uid://bnwfrk70ha0xn" path="res://scene/player/player.tscn" id="3_dt2ld"]

[sub_resource type="CSharpScript" id="CSharpScript_efxiv"]
script/source = "using Godot;
using System;

public partial class Player : CharacterBody2D
{
	public const float Speed = 300.0f;
	public const float JumpVelocity = -400.0f;

	public override void _PhysicsProcess(double delta)
	{
		Vector2 velocity = Velocity;

		// Add the gravity.
		if (!IsOnFloor())
		{
			velocity += GetGravity() * (float)delta;
		}

		// Handle Jump.
		if (Input.IsActionJustPressed(\"ui_accept\") && IsOnFloor())
		{
			velocity.Y = JumpVelocity;
		}

		// Get the input direction and handle the movement/deceleration.
		// As good practice, you should replace UI actions with custom gameplay actions.
		Vector2 direction = Input.GetVector(\"ui_left\", \"ui_right\", \"ui_up\", \"ui_down\");
		if (direction != Vector2.Zero)
		{
			velocity.X = direction.X * Speed;
		}
		else
		{
			velocity.X = Mathf.MoveToward(Velocity.X, 0, Speed);
		}

		Velocity = velocity;
		MoveAndSlide();
	}
}
"

[node name="Test level" type="Node"]

[node name="Player" parent="." instance=ExtResource("3_dt2ld")]
position = Vector2(88, 576)
script = SubResource("CSharpScript_efxiv")

[node name="TileMapLayer" type="TileMapLayer" parent="."]
scale = Vector2(0.07, 0.07)
tile_map_data = PackedByteArray("AAABABAAAAABAAAAAAACABAAAAABAAAAAAADABAAAAABAAAAAAAEABAAAAABAAAAAAAAABAAAAAEAAEAAAAFABAAAAABAAAAAAAGABAAAAABAAAAAAAAABEAAAABAAEAAAABABEAAAABAAEAAAACABEAAAABAAEAAAADABEAAAABAAEAAAAEABEAAAABAAEAAAAFABEAAAABAAEAAAAGABEAAAABAAEAAAAHABEAAAABAAEAAAAHABAAAAABAAAAAAAIABAAAAABAAAAAAAIABEAAAABAAEAAAAJABAAAAABAAAAAAAKABAAAAABAAAAAAAJABEAAAABAAEAAAAKABEAAAABAAEAAAALABEAAAABAAEAAAAMABEAAAABAAEAAAANABEAAAABAAEAAAAOABEAAAABAAEAAAAMABAAAAABAAAAAAALABAAAAABAAAAAAANABAAAAABAAAAAAAOABAAAAABAAAAAAAPABAAAAABAAAAAAAQABAAAAABAAAAAAAQABEAAAABAAEAAAAPABEAAAABAAEAAAARABEAAAABAAEAAAASABEAAAABAAEAAAATABEAAAABAAEAAAAUABEAAAABAAEAAAARABAAAAABAAAAAAASABAAAAABAAAAAAATABAAAAABAAAAAAAUABAAAAABAAAAAAAVABAAAAABAAAAAAAWABAAAAABAAAAAAAXABAAAAABAAAAAAAVABEAAAABAAEAAAAWABEAAAABAAEAAAAXABEAAAABAAEAAAAYABEAAAABAAEAAAAZABEAAAABAAEAAAAaABEAAAABAAEAAAAbABEAAAABAAEAAAAcABEAAAABAAEAAAAYABAAAAABAAAAAAAZABAAAAABAAAAAAAaABAAAAABAAAAAAAbABAAAAABAAAAAAAcABAAAAABAAAAAAAdABAAAAABAAAAAAAeABAAAAABAAAAAAAfABAAAAABAAAAAAAgABEAAAABAAEAAAAhABEAAAABAAEAAAAiABEAAAABAAEAAAAjABEAAAABAAEAAAAfABEAAAABAAEAAAAeABEAAAABAAEAAAAdABEAAAABAAEAAAAgABAAAAABAAAAAAAhABAAAAABAAAAAAAiABAAAAABAAAAAAAjABAAAAABAAAAAAAkABAAAAABAAAAAAAlABAAAAABAAAAAAAmABAAAAABAAAAAAAnABAAAAABAAAAAAAoABAAAAABAAAAAAApABAAAAABAAAAAAAqABEAAAABAAEAAAArABEAAAABAAEAAAApABEAAAABAAEAAAAoABEAAAABAAEAAAAnABEAAAABAAEAAAAmABEAAAABAAEAAAAlABEAAAABAAEAAAAkABEAAAABAAEAAAAqABAAAAABAAAAAAArABAAAAABAAAAAAAsABAAAAABAAAAAAAsABEAAAABAAEAAAAAABIAAAABAAIAAAABABIAAAABAAIAAAAGABIAAAABAAIAAAAFABIAAAABAAIAAAAEABIAAAABAAIAAAADABIAAAABAAIAAAACABIAAAABAAIAAAAHABIAAAABAAIAAAAIABIAAAABAAIAAAAJABIAAAABAAIAAAAKABIAAAABAAIAAAALABIAAAABAAIAAAAMABIAAAABAAIAAAANABIAAAABAAIAAAAOABIAAAABAAIAAAAQABIAAAABAAIAAAARABIAAAABAAIAAAASABIAAAABAAIAAAATABIAAAABAAIAAAAUABIAAAABAAIAAAAVABIAAAABAAIAAAAPABIAAAABAAIAAAAbABIAAAABAAIAAAAaABIAAAABAAIAAAAZABIAAAABAAIAAAAYABIAAAABAAIAAAAXABIAAAABAAIAAAAWABIAAAABAAIAAAAcABIAAAABAAIAAAAdABIAAAABAAIAAAAeABIAAAABAAIAAAAfABIAAAABAAIAAAAgABIAAAABAAIAAAAhABIAAAABAAIAAAAiABIAAAABAAIAAAAjABIAAAABAAIAAAAkABIAAAABAAIAAAAlABIAAAABAAIAAAAmABIAAAABAAIAAAAnABIAAAABAAIAAAAoABIAAAABAAIAAAArABIAAAABAAIAAAAqABIAAAABAAIAAAApABIAAAABAAIAAAAsABIAAAABAAIAAAAAAA8AAAACAAEAAAAAAA4AAAACAAEAAAAAAA0AAAACAAEAAAAAAAwAAAACAAEAAAAAAAsAAAACAAEAAAAAAAoAAAACAAEAAAAAAAkAAAACAAEAAAAAAAgAAAACAAEAAAD//xEAAAAAAAEAAAD//xIAAAAAAAIAAAD//xAAAAAAAAEAAAD//w8AAAAAAAEAAAD//w4AAAAAAAEAAAD//wkAAAAAAAEAAAD//wgAAAAAAAEAAAD//woAAAAAAAEAAAD//wsAAAAAAAEAAAD//wwAAAAAAAEAAAD//w0AAAAAAAEAAAAAAAcAAAACAAEAAAD//wcAAAAAAAEAAAD//wYAAAAAAAEAAAD//wUAAAAAAAEAAAD//wQAAAAAAAEAAAAAAAQAAAACAAEAAAAAAAMAAAACAAEAAAAAAAIAAAACAAEAAAAAAAEAAAACAAEAAAAAAAAAAAACAAEAAAD//wAAAAAAAAEAAAD//wEAAAAAAAEAAAD//wIAAAAAAAEAAAD//wMAAAAAAAEAAAAAAAYAAAACAAEAAAAAAAUAAAACAAEAAAD/////AAAAAAEAAAAAAP//AAAEAAAAAAABAP//AAABAAIAAAACAP//AAABAAIAAAADAP//AAABAAIAAAAEAP//AAABAAIAAAAOAP//AAABAAIAAAAPAP//AAABAAIAAAAQAP//AAABAAIAAAARAP//AAABAAIAAAASAP//AAABAAIAAAATAP//AAABAAIAAAAUAP//AAABAAIAAAAMAP//AAABAAIAAAALAP//AAABAAIAAAAKAP//AAABAAIAAAAJAP//AAABAAIAAAAIAP//AAABAAIAAAAHAP//AAABAAIAAAAGAP//AAABAAIAAAAFAP//AAABAAIAAAANAP//AAABAAIAAAAVAP//AAABAAIAAAAWAP//AAABAAIAAAAXAP//AAABAAIAAAAYAP//AAABAAIAAAAZAP//AAABAAIAAAAaAP//AAABAAIAAAAbAP//AAABAAIAAAAcAP//AAABAAIAAAAdAP//AAABAAIAAAAgAP//AAABAAIAAAAfAP//AAABAAIAAAAeAP//AAABAAIAAAA6AP//AAABAAIAAAA5AP//AAABAAIAAAA4AP//AAABAAIAAAA3AP//AAABAAIAAAA2AP//AAABAAIAAAA1AP//AAABAAIAAAA0AP//AAABAAIAAAAzAP//AAABAAIAAAAyAP//AAABAAIAAAAxAP//AAABAAIAAAAwAP//AAABAAIAAAAvAP//AAABAAIAAAAuAP//AAABAAIAAAAtAP//AAABAAIAAAAsAP//AAABAAIAAAArAP//AAABAAIAAAAqAP//AAABAAIAAAApAP//AAABAAIAAAAoAP//AAABAAIAAAAnAP//AAABAAIAAAAmAP//AAABAAIAAAAlAP//AAABAAIAAAAkAP//AAABAAIAAAAjAP//AAABAAIAAAAiAP//AAABAAIAAAAhAP//AAABAAIAAAA6ABIAAAABAAIAAAA6ABEAAAABAAEAAAA6ABAAAAABAAAAAAA5ABIAAAABAAIAAAA5ABEAAAABAAEAAAA5ABAAAAABAAAAAAA4ABIAAAABAAIAAAA4ABEAAAABAAEAAAA4ABAAAAABAAAAAAA3ABIAAAABAAIAAAA3ABEAAAABAAEAAAA3ABAAAAABAAAAAAA2ABIAAAABAAIAAAA2ABEAAAABAAEAAAA2ABAAAAABAAAAAAA1ABIAAAABAAIAAAA1ABEAAAABAAEAAAA1ABAAAAABAAAAAAA0ABIAAAABAAIAAAA0ABEAAAABAAEAAAA0ABAAAAABAAAAAAAzABIAAAABAAIAAAAzABEAAAABAAEAAAAzABAAAAABAAAAAAAyABIAAAABAAIAAAAyABEAAAABAAEAAAAyABAAAAABAAAAAAAxABIAAAABAAIAAAAxABEAAAABAAEAAAAxABAAAAABAAAAAAAwABIAAAABAAIAAAAwABEAAAABAAEAAAAwABAAAAABAAAAAAAvABIAAAABAAIAAAAvABEAAAABAAEAAAAvABAAAAABAAAAAAAuABIAAAABAAIAAAAuABEAAAABAAEAAAAuABAAAAABAAAAAAAtABIAAAABAAIAAAAtABEAAAABAAEAAAAtABAAAAABAAAAAABHABEAAAACAAEAAABHABAAAAACAAAAAABGABEAAAABAAEAAABGABAAAAABAAAAAABFABEAAAABAAEAAABFABAAAAABAAAAAABEABEAAAABAAEAAABEABAAAAABAAAAAABDABEAAAABAAEAAABDABAAAAABAAAAAABCABEAAAABAAEAAABCABAAAAABAAAAAABBABEAAAABAAEAAABBABAAAAABAAAAAABAABEAAAABAAEAAABAABAAAAABAAAAAAA/ABEAAAABAAEAAAA/ABAAAAABAAAAAAA+ABEAAAABAAEAAAA+ABAAAAABAAAAAAA9ABEAAAABAAEAAAA9ABAAAAABAAAAAAA8ABEAAAABAAEAAAA8ABAAAAABAAAAAAA7ABEAAAABAAEAAAA7ABAAAAABAAAAAABHABIAAAACAAIAAABGABIAAAABAAIAAABFABIAAAABAAIAAABEABIAAAABAAIAAABDABIAAAABAAIAAABCABIAAAABAAIAAABBABIAAAABAAIAAABAABIAAAABAAIAAAA/ABIAAAABAAIAAAA+ABIAAAABAAIAAAA9ABIAAAABAAIAAAA8ABIAAAABAAIAAAA7ABIAAAABAAIAAABDAP//AAABAAIAAABCAP//AAABAAIAAABBAP//AAABAAIAAABAAP//AAABAAIAAAA/AP//AAABAAIAAAA+AP//AAABAAIAAAA9AP//AAABAAIAAAA8AP//AAABAAIAAAA7AP//AAABAAIAAABEAP//AAABAAIAAABFAP//AAABAAIAAABGAP//AAABAAIAAABHAP//AAACAAIAAABHAP7/AAACAAAAAABGAP7/AAABAAAAAABFAP7/AAABAAAAAABEAP7/AAABAAAAAABDAP7/AAABAAAAAABCAP7/AAABAAAAAABBAP7/AAABAAAAAABAAP7/AAABAAAAAAA/AP7/AAABAAAAAAA+AP7/AAABAAAAAAA9AP7/AAABAAAAAAA8AP7/AAABAAAAAAA7AP7/AAABAAAAAAA6AP7/AAABAAAAAAA5AP7/AAABAAAAAAA4AP7/AAABAAAAAAA3AP7/AAABAAAAAAA2AP7/AAABAAAAAAA1AP7/AAABAAAAAAA0AP7/AAABAAAAAAAzAP7/AAABAAAAAAAyAP7/AAABAAAAAAAxAP7/AAABAAAAAAAwAP7/AAABAAAAAAAvAP7/AAABAAAAAAAuAP7/AAABAAAAAAAtAP7/AAABAAAAAAAsAP7/AAABAAAAAAArAP7/AAABAAAAAAAqAP7/AAABAAAAAAApAP7/AAABAAAAAAAoAP7/AAABAAAAAAAnAP7/AAABAAAAAAAmAP7/AAABAAAAAAAlAP7/AAABAAAAAAAkAP7/AAABAAAAAAAjAP7/AAABAAAAAAAiAP7/AAABAAAAAAAhAP7/AAABAAAAAAAgAP7/AAABAAAAAAAfAP7/AAABAAAAAAAeAP7/AAABAAAAAAAdAP7/AAABAAAAAAAcAP7/AAABAAAAAAAbAP7/AAABAAAAAAAaAP7/AAABAAAAAAAZAP7/AAABAAAAAAAYAP7/AAABAAAAAAAXAP7/AAABAAAAAAAWAP7/AAABAAAAAAAVAP7/AAABAAAAAAAUAP7/AAABAAAAAAATAP7/AAABAAAAAAASAP7/AAABAAAAAAARAP7/AAABAAAAAAAQAP7/AAABAAAAAAAPAP7/AAABAAAAAAAOAP7/AAABAAAAAAANAP7/AAABAAAAAAAMAP7/AAABAAAAAAALAP7/AAABAAAAAAAKAP7/AAABAAAAAAAJAP7/AAABAAAAAAAIAP7/AAABAAAAAAAHAP7/AAABAAAAAAAGAP7/AAABAAAAAAAFAP7/AAABAAAAAAAEAP7/AAABAAAAAAADAP7/AAABAAAAAAACAP7/AAABAAAAAAABAP7/AAABAAAAAAAAAP7/AAABAAAAAAD///7/AAAAAAAAAAA=")
tile_set = ExtResource("1_hsma1")

[node name="ParallaxBackground" parent="." instance=ExtResource("2_kna6t")]
offset = Vector2(0, -415)
transform = Transform2D(1.695, 0, 0, 1.695, 0, -415)
